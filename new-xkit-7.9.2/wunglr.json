{"id":"wunglr","title":"wunglr","css":"/* Post Container */\n[data-id] { transition: transform 1s cubic-bezier(0.7, 0, 0.3, 1); }\n[data-id].wungled { transform:scale(-1,1); }\n.wunglr-done article >div { overflow:visible; }\n\n/* Individual Post/Reblog Body */\n/* [data-id] :has(>.GzjsW) {} except we don't want to rely on generated classnames*/\n\n.wunglr-post { position:relative; transition: visibility 1s steps(2,jump-none); }\n.wungled .wunglr-post { visibility:hidden; }\n\n/* images are visibility:visible -- add a transparency effect */\n/* reblog headers are visible -- add minor transparency */\n.wunglr-post img,\ndiv:has(+.wunglr-post) { transition:opacity 1s steps(2,jump-none); }\n.wungled .wunglr-post img { opacity: 0.07; pointer-events: none; user-select: none; }\n.wungled div:has(+.wunglr-post) { opacity: 0.6; }\n/* reblog headers are still clickable, though wungle has priority */\n\n/* Wungle text (firstchild of .wunglr-post) */\n.wunglr-post > :first-child { position:absolute; top:0; margin-top:0; overflow:visible; transform:scale(-1,1);\n  visibility:hidden; transition: visibility 1s steps(2,jump-none); z-index:1; }\n.wungled .wunglr-post > :first-child { visibility:visible; }","script":"//* TITLE wunglr **//\n//* VERSION 1.0.0 **//\n//* DESCRIPTION\tThe hidden side of tumblr **//\n//* DEVELOPER VasherMC **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.wunglr = new Object({\n\n\trunning: false,\n\n\trun: function() {\n\t\tthis.running = true;\n\t\tXKit.tools.init_css(\"wunglr\");\n\t\tXKit.post_listener.add(\"wunglr\", this.add_wungle_elems);\n\t\tthis.add_wungle_elems();\n\t},\n\n\tadd_wungle_elems: function(){\n\t\t/* dashboard has 1 extra div in the tree compared to blog-view on the dashboard */\n\t\tdocument.querySelectorAll(`\n  [data-id] article >div>div>div>span:not(:has(div>div[role=\"link\"] div[aria-label=\"avatar\"])):not(.wunglr-post),\n  [data-id] article >div>div>div>span>div>div[role=\"link\"]+div:not(.wunglr-post),\n  [data-id] article     >div>div>span:not(:has(div>div[role=\"link\"] div[aria-label=\"avatar\"])):not(.wunglr-post),\n  [data-id] article     >div>div>span>div>div[role=\"link\"]+div:not(.wunglr-post)\n`).forEach(block => {\n\t\t\tblock.classList.add(\"wunglr-post\");\n\t\t\tlet wungle = String.fromCodePoint(...block.textContent.matchAll(/[\\u{e0020}-\\u{e007e}]/gu).map(a=>a[0].codePointAt(0)-0xe0000));\n\t\t\tlet wungleElem = document.createElement(\"div\");\n\t\t\twungleElem.className = \"k31gt\"; /* text block (for margin/padding) */\n\t\t\twungleElem.innerText = wungle;\n\t\t\tblock.insertBefore(wungleElem,block.firstChild); /* put first, since readmores are added at the end */\n\t\t});\n\t\t/* Individual post blocks got parsed; now add the button for each post to toggle Wungler */\n\t\tdocument.querySelectorAll(`[data-id]:not(.wunglr-done)`).forEach(post=>{\n\t\t\tpost.classList.add(\"wunglr-done\");\n\t\t\tlet btn_sec = post.querySelector(\"header[role] span:has(>button)\");\n\t\t\tlet btn_el = document.createElement(\"button\");\n\t\t\tbtn_el.innerText = \"â†¶W\";\n\t\t\tbtn_el.type = \"button\";\n\t\t\tbtn_el.name = \"wungle\";\n\t\t\tbtn_el.onclick = (e) => post.classList.toggle(\"wungled\");\n\t\t\tbtn_sec.insertBefore(btn_el, btn_sec.firstChild);\n\t\t});\n\t},\n\n\tdestroy: function() {\n\t\tXKit.post_listener.remove(\"wunglr\");\n\t\tdocument.querySelectorAll(\".wunglr-post\").forEach(block => {\n\t\t\tblock.classList.remove(\"wunglr-post\");\n\t\t\tblock.removeChild(block.firstChild); /*the wungle*/\n\t\t});\n\t\tdocument.querySelectorAll(\".wunglr-done\").forEach(post => {\n\t\t\tpost.classList.remove(\"wunglr-done\");\n\t\t\tpost.classList.remove(\"wungled\");\n\t\t\tlet btn_sec = post.querySelector(\"header[role] span:has(>button)\");\n\t\t\tbtn_sec.removeChild(btn_sec.firstChild); /* Wungle Button */\n\t\t});\n\t\tXKit.tools.remove_css(\"wunglr\");\n\t\tthis.running = false;\n\t}\n});","icon":"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64' style='background-color:rgba(68,68,68,0.2);'><text x='50%' y='50%' style='font-size: 42px;font-weight: bold;font-family: cursive;' fill='rgb(50,74,93)' text-anchor='middle' dominant-baseline='central'>W</text></svg>","description":"","developer":"VasherMC","version":"1.0.0","errors":false,"beta":false,"frame":false,"details":""}
